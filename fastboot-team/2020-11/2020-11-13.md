## Agenda

*This week:* 

- (public) review monorepo setup (10m) (TW)
- (public) discuss website (5m) (CM)
    - dogfooding
    - prember?
    - different sections?

## Attendees

- [x]  Chris Manson (CM)
- [x]  Robert Jackson (RJ)
- [x]  Dave Laird (DL)
- [x]  Suchita Doshi (SD)
- [x]  Thomas Wang (TW)
- [ ]  Mark Pascual (MP)
- [ ]  Scott Newcomer (SN)

## Action Items

- [x]  Add tests to PR [https://github.com/ember-fastboot/fastboot-express-middleware/pull/66](https://github.com/ember-fastboot/fastboot-express-middleware/pull/66) (Suchita) - Create a fastboot app fixture for testing the addon metadata (Suchita)
- [ ]  Continue talking about the alt-fastboot-app-server and integrated etc. next week
- [ ]  @Robert Jackson review the alt-fastboot-app-server to be able to better discuss it
- [ ]  discuss ember-cli-fastboot-testing and if we should add/merge it with the ember-fastboot repo/monrepo @Robert Jackson
- [ ]  brainstorm what we want in a meta issue for community engagement (ember-cli-fastboot test porting, de-vendoring fastboot test, etc.)

## Minutes

- RW: I added everyone in the working group as members of the org
    - it should be maintainers, let me know if you aren't able to close issues etc.
- discussion about middlewares in ember-cli-fastboot
    - for SD's PR we want a way to be able to toggle off ember-cli-fastboot's middleware
    - SD: does this allow you to add your own?
    - RJ: this will theoretically allow SN to not need to fork ember-cli-fastboot
- monorepo setup discussion
    - proposed monorepo setup:
        - `ember-fastboot/ember-fastboot`
            - `packages/fastboot`: low level tool for anything rely on rendering Ember app in node environment (e.g., custom fastboot-server, prember)
            - `packages/ember-cli-fastboot`: required for all SSR ember app
            - `packages/fastboot-express-middleware`: low level tool for building custom fastboot-server
            - `packages/fastboot-app-server`: sane default for serving production app
            - `test-packages/*`: internal ember apps for acceptance & e2e testing, not published
            - `website`: contains documentation, also a production ready SSR ember app
        - `ember-fastboot/simple-dom`
        - `ember-fastboot/fastboot-s3-downloader`
        - `ember-fastboot/fastboot-s3-notifier`
        - `ember-fastboot/fastboot-cli`
    - TW: the main monorepo should have everything needed to dev a fastboot app in it
    - RJ: we should hold off moving website into the monorepo based on CM's feedback
    - RJ: we could consider creating another monorepo for fastboot-app-server and related repos
    - RJ: fasboot-cli could be replaced by SN's proposal (to make dev more like "production") and we should consider deprecating
    - TW: if we don't feel strongly about fastboot-app-server as part of the monorepo right now we could just leave it as it is for now and then make a decision later
    - TW: having them inside the monorepo would be good when we need to release all of the main packages and remaining in sync
    - CM: doesn't this lean towards the "logical problem" we had with monorepos
    - RJ: yes if you **need** to do it, but the alternative is to have a cascade of PRs to update everything and if we miss one then we can have a lot of a different versions across our ecosystem
    - RJ: if we do what TW is proposing then we could do a single release at once
    - yes it can encode assumptions if we do something like this, but the reality is that we are already in a bad space because we haven't been keeping up to date
    - RJ: what's the next steps?
    - TW: how do we do the release
    - RJ: I have a tool release-it-yarn-workspaces
    - there is a small blocker to make release-it-yarn-workspaces not release packages that haven't changed
    - we can use git to solve it
    - CM: are we intending to have test packages as siblings in the fastboot monorepo
    - RJ: yes
    - also we could use the same tests for ember-cli-fastboot to test app server too... possibly
    - RJ: we probably need to remove the vendored apps from fastboot (super old)
    - CM: can we get some help from the community
    - action item to brainstorm
